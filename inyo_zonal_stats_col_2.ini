
# Earth Engine Zonal Stats Input File
# 2023 Dec > cd C:\Users\znelson\Documents\projects-github\ee-tools-landsat-c02\ee-tools-landsat-c02
# conda activate ee-tools
# earthengine authenticate
# Python C:\Users\znelson\Documents\projects-github\ee-tools-landsat-c02\ee-tools-landsat-c02\ee_zonal_stats_by_zone.py -i "C:\Users\znelson\Dropbox (Personal)\Rprojects\inyodata\eeproject_jun2019\Inyo_County_2020_Jan07\inyo_zonal_stats_col_2.ini"

# 2024 Aug
# updated gcloud components
#  $ gcloud components update --version 455.0.0

#2025 updates. Let's pull the entire 2025 year for the below shapefiles. we do this one by one and they all can take hours to run individually.
# change start_year and end_year to 2024 and 2025 respectively.

# Python ee_zonal_stats_by_zone.py -i inyo_zonal_stats_col_2.ini

[INPUTS]
# Zones from shapefile


# main 380 set of parcels sampled in the green book line point field monitoring plus Type E
# updated through Dec 2024
# zone_shp_path = gis/EEparcels_380main.shp

# additional 85 type B parcels not field sampled
# updated through Dec 2024
# zone_shp_path = gis\LA_parcels_rasterized_b_85add.shp

# additional 315 type C parcels
# updated through Dec 2024
# zone_shp_path = gis/LA_parcels_rasterized_c315.shp

# check to see when these were updated last. Not necessarty for annual reporting, yet.
# 75 type D parcels
# zone_shp_path = gis/LA_parcels_rasterized_d_75.shp

# 200 type A parcels desert sink scrub Holland type including some groundwater-dependent greasewood
zone_shp_path = gis/LA_parcels_rasterized_a_dss_200.shp

# parcels around W415
# zone_shp_path = gis/zonesW415gj.shp

# springs and seeps 
# zone_shp_path = gis/springs_seeps_rast_.shp

# some SGMA parcels in trivalley
# zone_shp_path = gis/sgma_ag_wgs84z11_rasterized2.shp


# for parcels
zone_field = PCL

# for seeps/springs
# zone_field = SEEP_ID

# Landsat start/end filters
# change start_year and end_year to 2024 and 2025 respectively.
start_year = 2024
end_year = 2025
# start_month = 1
# end_month = 12
# start_doy = 152
# end_doy = 243

# Set which Landsats to use
landsat4_flag = False
landsat5_flag = True
landsat7_flag = True
landsat8_flag = True
landsat9_flag = True

# Set which Landsat Collection to use
collection = c02

# Skip/keep specific Landsat scene IDs
# scene_id_keep_path = C:\Projects\ee-tools\example\quicklooks\clear_scenes.txt
# scene_id_skip_path = C:\Projects\ee-tools\example\quicklooks\cloudy_scenes.txt

# Only process specific Landsat path/rows
# path_keep_list = 41
# row_keep_list = 32
# tile_keep_list = p041r032
tile_keep_list = p042r034, p041r034, p041r035

# Only process specific polygon FIDs
# fid_skip_list =
# fid_keep_list = 0, 2-3

# Apply cloudmasks
acca_flag = False
fmask_flag = False

# At-surface reflectance source (tasumi or usgs_sr)
refl_sur_method = usgs_sr

# Adjust Landsat Red/NIR bands (none, oli_2_etm, etm_2_oli)
adjust_method = None

# Mosaic overlapping Landsat images (same path, different row)
# (none, mean, median, mosaic, min, max)
mosaic_method = mean

# Merge all zone geometries into one feature
merge_geometries_flag = False


[ZONAL_STATS]

# output_workspace = stats
output_workspace = stats_a_dss_200

# output_workspace = stats_d75

# output_workspace = stats_b85

# output_workspace = stats_a_dss_200

# output_workspace = stats_springs

# output_workspace = stats_w415

# Zonal stats flags
landsat_flag = True
gridmet_daily_flag = False
gridmet_monthly_flag = True
pdsi_flag = False

# List of Landsat products to compute
landsat_products = ts, albedo_sur, ndvi_toa, ndvi_sur, evi_sur, ndwi_green_nir_sur, ndwi_green_swir1_sur, ndwi_nir_swir1_sur, tasseled_cap
# landsat_products = albedo_sur, evi_sur, ndvi_sur, ndvi_toa, ts
#   Product Choices
#   albedo_sur, evi_sur, ndvi_sur, ndvi_toa, ts
#   msavi_toa, msavi_sur
#   ndwi_green_nir_toa, ndwi_green_nir_sur
#   ndwi_green_swir1_toa, ndwi_green_swir1_sur
#   ndwi_nir_swir1_toa, ndwi_nir_swir1_sur
#   ndwi_swir1_green_toa, ndwi_swir1_green_sur
#   refl_toa (return all TOA bands)
#   refl_sur (return all SUR bands)
#   savi_toa, savi_sur
#   tasseled_cap, tc_bright, tc_green, tc_wet  (Tasselled cap)
#   etstar_mean, etstar_lpi, etstar_upi, etstar_lci, etstar_uci  (Beamer ET*)
#   eg_mean, etg_lpi, etg_upi, etg_lci, etg_uci  (Beamer ETg not fully supported)

# List of GRIDMET products to compute
gridmet_products = ppt, eto, tmin, tmax, tmean

# Number of years to include in each export task
year_step = 1

# Pre-computed zone tile_list and tile_list SCENE_ID lists
# zone_geojson = C:\Projects\ee-tools\example\gis\example.geojson
# zone_tile_path = C:\Projects\ee-tools\example\gis\example_tiles.json
# pr_scene_path = C:\Projects\ee-tools\example\gis\example_scene_id.json


[SPATIAL]
# Output spatial reference
output_snap = 15, 15
output_cs = 30
output_proj = EPSG:32611


[EXPORT]
# Export Destination (GETINFO, GDRIVE, or GCLOUD)
export_dest = GETINFO

# Google Drive export options (must be set if export_dest = GDRIVE)
# gdrive_workspace = C:\Users\mortonc\Google Drive
# export_folder =
# export_folder = EE_Exports

# Google Cloud Storage export options (must be set if export_dest = GDRIVE)
# project_name = OpenET
# bucket_name = ee-tools-export

# Don't copy files from export location (GCS or GDrive) to output
export_only = False
